<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{customer/layout}">
<head>
<meta charset="UTF-8">
<title>ƒê·ªãa ch·ªâ c·ªßa t√¥i - 4Petals</title>
<th:block layout:fragment="styles">
	<link rel="stylesheet" href="/styles/css/customer/base.css">
	<link rel="stylesheet" href="/styles/css/customer/account-sidebar.css">
	<link rel="stylesheet" href="/styles/css/customer/account-address.css">
</th:block>
</head>
<body>
	<div layout:fragment="content">
		<main class="account-page">
			<section class="container account-container">
				<div class="account-layout">

					<!-- Sidebar -->
					<div th:replace="~{customer/fragments/account-sidebar :: sidebar}"></div>

					<!-- N·ªôi dung ch√≠nh -->
					<div class="account-content">
						<div class="address-header">
							<h2>ƒê·ªãa ch·ªâ c·ªßa t√¥i</h2>
							<a href="#" class="btn-add-address">+ Th√™m ƒë·ªãa ch·ªâ m·ªõi</a>
						</div>

						<div class="address-list">
							<div th:each="addr : ${addresses}" class="address-item">
								<!-- B√äN TR√ÅI -->
								<div class="address-left">
									<div class="address-header-line">
										<span class="name" th:text="${addr.hoTen}">Thu Trang</span> <span
											class="divider">|</span> <span class="phone"
											th:text="${addr.sdt}">(+84) 943 276 245</span>
									</div>
									<div class="address-detail" th:text="${addr.diaChiChiTiet}">
										S·ªë 22c, L√†ng TƒÉng Ph√∫, Th√†nh Ph·ªë Th·ªß ƒê·ª©c</div>
									<div th:if="${addr.macDinh}" class="badge-default">M·∫∑c
										ƒë·ªãnh</div>
								</div>

								<!-- B√äN PH·∫¢I -->
								<div class="address-right">
									<a href="#" class="link edit-address"
										th:attr="data-id=${addr.maDC}, data-name=${addr.hoTen}, data-phone=${addr.sdt}, data-detail=${addr.diaChiChiTiet}">
										C·∫≠p nh·∫≠t </a> <a th:if="${!addr.macDinh}"
										th:href="@{'/account/address/delete/' + ${addr.maDC}}"
										class="link delete"
										onclick="return confirm('X√≥a ƒë·ªãa ch·ªâ n√†y?')">X√≥a</a>
									<button th:if="${!addr.macDinh}"
										th:attr="onclick=|window.location.href='/account/address/set-default/${addr.maDC}'|"
										class="btn-set-default">Thi·∫øt l·∫≠p m·∫∑c ƒë·ªãnh</button>
								</div>
							</div>

							<div th:if="${#lists.isEmpty(addresses)}" class="no-address">
								<p>Ch∆∞a c√≥ ƒë·ªãa ch·ªâ n√†o ƒë∆∞·ª£c l∆∞u.</p>
							</div>
						</div>

					</div>

				</div>
			</section>
		</main>

		<!-- üì¶ POPUP TH√äM / S·ª¨A ƒê·ªäA CH·ªà -->
		<div id="addressModal" class="modal hidden">
			<div class="modal-content">
				<h3 id="modalTitle">Th√™m ƒë·ªãa ch·ªâ m·ªõi</h3>

				<form id="addressForm" th:action="@{/account/address/save}"
					method="post">
					<input type="hidden" name="maDC" id="maDC">

					<div class="form-group">
						<label>H·ªç t√™n</label> <input type="text" name="hoTen" id="hoTen"
							required>
					</div>

					<div class="form-group">
						<label>S·ªë ƒëi·ªán tho·∫°i</label> <input type="text" name="sdt"
							id="sdt" required>
					</div>

					<div class="form-group">
						<label>ƒê·ªãa ch·ªâ chi ti·∫øt</label>
						<textarea name="diaChiChiTiet" id="diaChiChiTiet" rows="3"
							required></textarea>
					</div>

					<div class="modal-actions">
						<button type="button" id="cancelBtn">H·ªßy</button>
						<button type="submit" class="confirm-btn">L∆∞u</button>
					</div>
				</form>
			</div>
		</div>

	</div>
	<th:block layout:fragment="scripts">
		<script src="/styles/js/customer/header.js"></script>
		<script th:src="@{/styles/js/customer/avatar.js}"></script>
		<script src="/styles/js/customer/account-sidebar.js"></script>
		<script th:src="@{/styles/js/customer/account-address.js}"></script>
		<script th:src="@{/styles/js/chat.js}"></script>
	</th:block>
</body>
</html>
