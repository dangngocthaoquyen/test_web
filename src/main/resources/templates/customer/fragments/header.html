<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="UTF-8">
<link rel="stylesheet" href="/styles/css/customer/base.css">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" />
<link
	href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap"
	rel="stylesheet">
</head>
<body>
	<div th:fragment="header">
		<header>
			<div class="header-top">
				<div class="logo">
					<img th:src="@{/images/logo.png}" alt="Logo MocMien Shop's">
				</div>

				<div class="search-box">
					<input type="text" placeholder="Tìm kiếm sản phẩm...">
					<button type="submit">
						<i class="fa-solid fa-magnifying-glass"></i>
					</button>
				</div>

				<div class="user-actions">
					<!-- Khi CHƯA đăng nhập -->
					<a th:href="@{/login}" sec:authorize="isAnonymous()"> <i
						class="fa-solid fa-right-to-bracket"></i> Đăng nhập
					</a>

					<!-- Khi đã đăng nhập -->
					<div class="user-info" sec:authorize="isAuthenticated()">
						<!-- Giỏ hàng -->
						<a th:href="@{/cart}" class="cart-icon"> <i
							class="fa-solid fa-cart-shopping"></i> Giỏ hàng
						</a>
						<!-- Avatar + Dropdown -->
						<div class="user-menu">
							<div class="avatar" id="avatar-btn">
								<img th:src="@{/images/avatar-default.png}" alt="Avatar">
							</div>
							<div class="dropdown" id="user-dropdown">
								<a th:href="@{/account}"><i class="fa-solid fa-user"></i>
									Thông tin tài khoản</a> <a th:href="@{/change-password}"><i
									class="fa-solid fa-key"></i> Đổi mật khẩu</a> <a
									th:href="@{/orders}"><i class="fa-solid fa-box"></i> Theo
									dõi đơn hàng</a> <a th:href="@{/logout}"><i
									class="fa-solid fa-right-from-bracket"></i> Đăng xuất</a>
							</div>
						</div>
						<span class="welcome">Xin chào, <strong
							th:text="${#authentication.name}">User</strong></span>
					</div>

					<!-- Nếu chưa đăng nhập thì hiện icon giỏ hàng mờ -->
					<a href="/login" sec:authorize="isAnonymous()"
						class="cart-icon disabled"
						title="Vui lòng đăng nhập để sử dụng giỏ hàng"> <i
						class="fa-solid fa-cart-shopping"></i> Giỏ hàng
					</a>
				</div>
			</div>

			<nav class="header-nav">
				<ul class="nav-links">
					<li><a th:href="@{/home}"><i class="fa-solid fa-house"></i>
							Trang chủ</a></li>
					<li><a th:href="@{/product}"><i
							class="fa-solid fa-box-open"></i> Sản phẩm</a></li>
					<li><a th:href="@{/about}"><i
							class="fa-solid fa-circle-info"></i> Giới thiệu</a></li>
					<li><a th:href="@{/contact}"><i
							class="fa-solid fa-envelope"></i> Liên hệ</a></li>
				</ul>
			</nav>
		</header>
	</div>

</body>
</html>
