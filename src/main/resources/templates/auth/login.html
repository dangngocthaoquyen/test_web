<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Đăng Nhập</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/styles/css/login.css}">
</head>
<body>
<div class="login-box">
    <h2>Đăng Nhập</h2>

    <form th:action="@{/login}" method="post">
        <input type="text" name="username" placeholder="Tên đăng nhập" class="form-control" required>

        <div class="password-wrapper">
            <input type="password" name="password" placeholder="Mật khẩu" class="form-control" id="password" required>
            <img src="/styles/image/login/eye-close.png" alt="Hiện mật khẩu" class="toggle-password" id="togglePassword">
        </div>

        <a th:href="@{/forgot-password}" class="forgot-password">Quên mật khẩu?</a>

        <button type="submit" class="btn btn-login">Đăng nhập</button>
    </form>

    <p th:if="${error}" th:text="${error}" class="text-danger mt-3"></p>
    <p th:if="${success}" th:text="${success}" class="text-success mt-3"></p>
</div>

<script>
    const passwordField = document.getElementById("password");
    const togglePassword = document.getElementById("togglePassword");

    togglePassword.addEventListener("click", function() {
        const isPassword = passwordField.getAttribute("type") === "password";
        passwordField.setAttribute("type", isPassword ? "text" : "password");
        this.src = isPassword 
            ? "/styles/image/login/eye-open.png" 
            : "/styles/image/login/eye-close.png";
    });
</script>
</body>
</html>
