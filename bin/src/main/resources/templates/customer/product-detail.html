<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{customer/layout}">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title th:text="${product.tenSP}"></title>
<th:block layout:fragment="styles">
	<link rel="stylesheet" href="/styles/css/customer/base.css">
	<link rel="stylesheet" href="/styles/css/customer/product-detail.css">
</th:block>
</head>

<body>
	<div layout:fragment="content" class="product-detail-page">

		<!-- ========== Chi ti·∫øt s·∫£n ph·∫©m ========== -->
		<section class="product-detail">
			<div class="left">
				<img th:src="@{${product.hinhAnh}}" th:alt="${product.tenSP}">
			</div>

			<div class="right">
				<h1 th:text="${product.tenSP}"></h1>
				<p class="price"
					th:text="${#numbers.formatDecimal(product.gia,0,'COMMA',0,'POINT')} + ' VND'"></p>
				<p class="rating">
					‚≠ê <span th:text="${avgRating}"></span> / 5
				</p>

				<p class="desc" th:text="${product.moTa}"></p>

				<div class="quantity">
					<label>S·ªë l∆∞·ª£ng:</label>
					<button type="button" class="qty-btn" id="minus">‚àí</button>
					<input id="qty" type="number" value="1" min="1" readonly>
					<button type="button" class="qty-btn" id="plus">+</button>
				</div>

				<div class="buttons">
					<button id="addCart" th:data-id="${product.maSP}">üõí Th√™m
						v√†o gi·ªè h√†ng</button>
					<button id="buyNow" th:data-id="${product.maSP}">‚ö° Mua
						ngay</button>
				</div>

			</div>
		</section>

		<!-- ========== ƒê√°nh gi√° ========== -->
		<section class="reviews">
			<h2>ƒê√°nh gi√° & b√¨nh lu·∫≠n</h2>

			<div class="review-form" th:if="${#authentication.name != null}">
				<form th:action="@{'/product/' + ${product.maSP} + '/review'}"
					method="post">
					<div class="radio">
						<input id="rating-5" type="radio" name="rating" value="5" /> <label
							for="rating-5" title="5 stars"> <svg
								viewBox="0 0 576 512" height="1em"
								xmlns="http://www.w3.org/2000/svg">
      <path
									d="M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"></path>
    </svg>
						</label> <input id="rating-4" type="radio" name="rating" value="4" /> <label
							for="rating-4" title="4 stars"> <svg
								viewBox="0 0 576 512" height="1em"
								xmlns="http://www.w3.org/2000/svg">
      <path
									d="M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"></path>
    </svg>
						</label> <input id="rating-3" type="radio" name="rating" value="3" /> <label
							for="rating-3" title="3 stars"> <svg
								viewBox="0 0 576 512" height="1em"
								xmlns="http://www.w3.org/2000/svg">
      <path
									d="M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"></path>
    </svg>
						</label> <input id="rating-2" type="radio" name="rating" value="2" /> <label
							for="rating-2" title="2 stars"> <svg
								viewBox="0 0 576 512" height="1em"
								xmlns="http://www.w3.org/2000/svg">
      <path
									d="M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"></path>
    </svg>
						</label> <input id="rating-1" type="radio" name="rating" value="1" /> <label
							for="rating-1" title="1 star"> <svg viewBox="0 0 576 512"
								height="1em" xmlns="http://www.w3.org/2000/svg">
      <path
									d="M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"></path>
    </svg>
						</label>
					</div>

					<textarea name="comment" placeholder="Vi·∫øt c·∫£m nh·∫≠n c·ªßa b·∫°n..."
						required></textarea>
					<button type="submit">G·ª≠i ƒë√°nh gi√°</button>
				</form>
			</div>

			<div class="review-list">
				<div th:each="r : ${reviews}" class="review-item">
					<p>
						<strong th:text="${r.nguoiDanhGia.hoTen}">T√™n ng∆∞·ªùi d√πng</strong>
					</p>
					<p th:text="${r.danhGia} + ' ‚≠ê'"></p>
					<p th:text="${r.binhLuan}"></p>
				</div>
			</div>
		</section>

		<!-- ========== S·∫£n ph·∫©m li√™n quan ========== -->
		<section class="related">
			<h2>S·∫£n ph·∫©m li√™n quan</h2>
			<div class="related-grid">
				<div th:each="r : ${relatedProducts}" class="card">
					<a th:href="@{'/product/' + ${r.maSP}}"> <img
						th:src="@{'/styles/image/product/' + ${r.hinhAnh}}"
						th:alt="${r.tenSP}">

						<h3 th:text="${r.tenSP}"></h3>
						<p
							th:text="${#numbers.formatDecimal(r.gia,0,'COMMA',0,'POINT')} + ' VND'"></p>
					</a>
				</div>
			</div>
		</section>
	</div>

	<th:block layout:fragment="scripts">
		<script src="/styles/js/customer/header.js"></script>
		<script th:src="@{/styles/js/customer/avatar.js}"></script>
		<script th:src="@{/styles/js/customer/product.js}"></script>
	</th:block>
</body>
</html>
